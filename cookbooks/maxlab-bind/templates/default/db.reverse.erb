;
; This file deployed via chef maxlab-bind cookbook. DO NOT EDIT MANUALLY
;
; <%= @fname %>
;

$TTL              <%= @bind_cfg['ttl'] %>

@    IN    SOA    <%= @bind_cfg['soa_domain'] %>. <%= @bind_cfg['soa_email'] %>. (
                  <%= '%-16s' % @bind_serial_string %> ; serial, todays date + todays serial #
                  <%= '%-16s' % @bind_cfg['refresh'] %> ; refresh, seconds
                  <%= '%-16s' % @bind_cfg['retry'] %> ; retry, seconds
                  <%= '%-16s' % @bind_cfg['expire'] %> ; expire, seconds
                  <%= '%-16s' % @bind_cfg['minimum'] %> ; minimum, seconds
                  )
           NS     <%= @bind_cfg['NS'] %>.
<% @groups.each do |grp| %>
;
; <%= grp %>
;
  <% @nodes.each do |ip, node_cfg| %>
    <% if node_cfg['group'] == grp %>
<%= '%-3s' % ip %>  IN  PTR  <%= node_cfg['node_name'] %>.<%= @domain_name %>.
    <% end %>
  <% end %>
<% end %>
